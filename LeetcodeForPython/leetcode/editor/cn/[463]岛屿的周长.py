from typing import *


# ç»™å®šä¸€ä¸ªåŒ…å« 0 å’Œ 1 çš„äºŒç»´ç½‘æ ¼åœ°å›¾ï¼Œå…¶ä¸­ 1 è¡¨ç¤ºé™†åœ° 0 è¡¨ç¤ºæ°´åŸŸã€‚ 
# 
#  ç½‘æ ¼ä¸­çš„æ ¼å­æ°´å¹³å’Œåž‚ç›´æ–¹å‘ç›¸è¿žï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿žï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿žç»„æˆçš„å²›å±¿ï¼‰ã€‚ 
# 
#  å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿žï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿
# çš„å‘¨é•¿ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ : 
# 
#  è¾“å…¥:
# [[0,1,0,0],
#  [1,1,1,0],
#  [0,1,0,0],
#  [1,1,0,0]]
# 
# è¾“å‡º: 16
# 
# è§£é‡Š: å®ƒçš„å‘¨é•¿æ˜¯ä¸‹é¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹ï¼š
# 
# 
#  
#  Related Topics å“ˆå¸Œè¡¨ 
#  ðŸ‘ 271 ðŸ‘Ž 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def islandPerimeter(self, grid: List[List[int]]) -> int:
        m = len(grid)
        n = len(grid[0])
        move = [[0, 1], [1, 0], [-1, 0], [0, -1]]  # ä½ç§»é‡

        # è¿”å›žä¸€ä¸ªç½‘æ ¼å„æ–¹å‘æ·±æœåŽç´¯åŠ çš„å‘¨é•¿å’Œ
        def dfs(r: int, c: int) -> int:
            # å¦‚æžœä»Žå²›å±¿åˆ°è¶Šç•Œ
            if not (0 <= r < m) or not (0 <= c < n): return 1
            # å¦‚æžœä»Žå²›å±¿åˆ°æ¹–æ³Šï¼Œå‘¨é•¿åŠ ä¸€
            if not grid[r][c]: return 1
            # å¦‚æžœå·²ç»è¢«è®¿é—®ï¼Œè¿”å›ž0
            if grid[r][c] == 2: return 0

            # æ ‡è®°è¯¥ç½‘æ ¼å·²è®¿é—®
            grid[r][c] = 2
            # è¿”å›žä¸€ä¸ªç½‘æ ¼å„æ–¹å‘æ·±æœåŽç´¯åŠ çš„å‘¨é•¿å’Œ
            return sum([dfs(r + i, c + j) for i, j in move])

        # ä»Žç¬¬ä¸€ä¸ªç½‘æ ¼å€¼ä¸º1å¤„å¼€å§‹æ·±æœ
        for i in range(m):
            for j in range(n):
                if grid[i][j]: return dfs(i, j)


# leetcode submit region end(Prohibit modification and deletion)


if __name__ == "__main__":
    print(Solution().islandPerimeter([[0, 1, 0, 0], [1, 1, 1, 0], [0, 1, 0, 0], [1, 1, 0, 0]]))
    pass
